import{S as d,_ as u,c as _,k as r,a as t,w as i,r as s,o as m,j as f,t as y}from"./index-BAzr2iUZ.js";function C(e){return d({url:"/api/system-logs",method:"get",params:e})}const z={name:"SystemLogs",data(){return{logList:[],currentPage:1,pageSize:10,total:0}},created(){this.fetchData()},methods:{async fetchData(){try{const e=await C({page:this.currentPage,pageSize:this.pageSize});this.logList=e.data.items,this.total=e.data.total}catch(e){console.error("获取系统日志失败:",e)}},handleSizeChange(e){this.pageSize=e,this.fetchData()},handleCurrentChange(e){this.currentPage=e,this.fetchData()},getLogLevelType(e){return{ERROR:"danger",WARN:"warning",INFO:"info",DEBUG:"success"}[e]||"info"}}},S={class:"system-logs"},v={class:"pagination"};function b(e,o,L,w,n,l){const a=s("el-table-column"),p=s("el-tag"),g=s("el-table"),h=s("el-pagination");return m(),_("div",S,[o[0]||(o[0]=r("div",{class:"header"},[r("h2",null,"系统日志")],-1)),t(g,{data:n.logList,border:""},{default:i(()=>[t(a,{prop:"id",label:"ID",width:"80"}),t(a,{prop:"timestamp",label:"时间",width:"180"}),t(a,{prop:"level",label:"级别",width:"100"},{default:i(({row:c})=>[t(p,{type:l.getLogLevelType(c.level)},{default:i(()=>[f(y(c.level),1)]),_:2},1032,["type"])]),_:1}),t(a,{prop:"message",label:"消息"}),t(a,{prop:"module",label:"模块",width:"120"})]),_:1},8,["data"]),r("div",v,[t(h,{"current-page":n.currentPage,"page-size":n.pageSize,total:n.total,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next",onSizeChange:l.handleSizeChange,onCurrentChange:l.handleCurrentChange},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])])])}const D=u(z,[["render",b],["__scopeId","data-v-6219c7eb"]]);export{D as default};
